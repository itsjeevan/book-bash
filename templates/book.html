{% extends "layout.html" %}


{% block body %}

<nav class="nav justify-content-center">
    <a class="nav-link" href="{{ url_for('search') }}">Home</a>
    <a class="nav-link" href="{{ url_for('logout') }}">Logout</a>
</nav>

<h2 class="display-4 text-center">{{ book.title }}</h2>

<div class="row justify-content-center">

    <div class="col-3">
        
        <h3>Author</h3>
        <p>{{ book.author }}</p>
        
        <h3>Publication Year</h3>
        <p>{{ book.year }}</p>

        <h3>ISBN</h3>
        <p>{{ book.isbn }}</p>

    </div>

    <div class="col-3">

        <h3>Goodreads</h3>
        <p>Review Count: {{ review_count }}</p>
        <p>Average Rating: {{ average_rating }}</p>

    </div>
    
</div>



<div class="row justify-content-center">

    <div class="col-6">
        
        <h3>Review</h3>
        
        <form action="{{ url_for('book', isbn=book.isbn) }}" method="post">
            <div class="form-group form-row">
                <select class="custom-select" name="rating">
                    <option selected disabled>Rating</option>
                    <option value="1">1 star</option>
                    <option value="2">2 stars</option>
                    <option value="3">3 stars</option>
                    <option value="4">4 stars</option>
                    <option value="5">5 stars</option>
                </select>
            </div>
            <div class="form-group form-row">
                <textarea name="review" class="form-control" placeholder="Your Review" rows="3"></textarea>
            </div>
            <div class="form-group form-row">
                <button type="submit" class="btn btn-primary ml-auto">Post</button>
            </div>
        </form>
                
        <ul class="list-group">
        {% for review in reviews %}
            <div class="card">
                <div class="card-body">
                <blockquote class="blockquote mb-0">
                    <p>{{ review.review }}</p>
                    <footer class="blockquote-footer">{{ review.user_username }}, {{ review.rating }} / 5</footer>
                </blockquote>
                </div>
            </div>
        {% endfor %}
        </ul>

    </div>
    

</div>



{% endblock %}